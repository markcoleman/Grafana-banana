name: "Mark stale issues and PRs"

on:
  schedule:
    - cron: "0 0 * * *" # Run daily at midnight UTC
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v10
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issue settings
          days-before-issue-stale: 60
          days-before-issue-close: 14
          stale-issue-label: "stale"
          exempt-issue-labels: "pinned,security,bug"
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had recent activity. 
            It will be closed in 14 days if no further activity occurs. 
            
            If this issue is still relevant, please:
            - Comment to keep it open
            - Remove the stale label
            - Add any updates or additional context
            
            Thank you for your contributions! üôè
          close-issue-message: |
            This issue has been automatically closed due to inactivity. 
            
            If you believe this issue is still relevant, please feel free to:
            - Reopen this issue
            - Create a new issue with updated information
            - Reference this issue in related discussions
            
            Thank you for your understanding! üëç
          
          # Pull request settings
          days-before-pr-stale: 30
          days-before-pr-close: 14
          stale-pr-label: "stale"
          exempt-pr-labels: "pinned,security,work-in-progress"
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had recent activity.
            It will be closed in 14 days if no further activity occurs.
            
            If this PR is still relevant, please:
            - Comment to keep it open
            - Push new commits
            - Rebase on the latest main branch
            - Remove the stale label
            
            Thank you for your contributions! üôè
          close-pr-message: |
            This pull request has been automatically closed due to inactivity.
            
            If you'd like to continue working on this, please feel free to:
            - Reopen this PR
            - Create a new PR with the latest changes
            - Reference this PR in the new one
            
            Thank you for your contributions! üëç
